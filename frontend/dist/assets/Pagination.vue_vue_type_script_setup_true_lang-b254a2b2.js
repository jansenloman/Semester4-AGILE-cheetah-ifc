import{d as y,i as _,W as b,s as d,o as g,b as m,u,t as f,n as v,l as K,D as N,K as x,P as k}from"./index-a9e6055c.js";const E={class:"mb-3"},h=["max","value"],w=y({__name:"PageButtons",props:{injectKey:null,params:null},setup(l){const r=l,e=_(r.injectKey||b);function a(t){return Math.max(0,Math.min(e.totalPages-1,t))}function c(t){if(t instanceof KeyboardEvent&&t.key!="Enter")return;const s=t.target,o=parseInt(s.value),P=isNaN(o)?0:a(o);e.setPage(P,r.params),s.value=(P+1).toString()}const i=d(()=>e.page<e.totalPages-1&&e.totalPages!=0),p=d(()=>e.page>0);function n(t){e.setPage(a(e.page+t),r.params)}return(t,s)=>(g(),m("div",E,[u(p)?(g(),m("button",{key:0,class:"btn btn-secondary",onClick:s[0]||(s[0]=o=>n(-1))}," Prev ")):f("",!0),v("input",{class:"col-1 mx-2 p-2 border-0 rounded",type:"number",title:"Page Number",min:"1",max:u(e).totalPages,onKeypress:c,onFocusout:c,value:u(e).page+1},null,40,h),u(i)?(g(),m("button",{key:1,class:"btn btn-secondary",onClick:s[1]||(s[1]=o=>n(1))}," Next ")):f("",!0)]))}}),A=y({__name:"Pagination",props:{fn:{type:Function},initialParams:null,injectKey:null},setup(l){const r=l,e=_(k),a=K({page:0,totalPages:0,data:[],refetch:i,setPage:p});async function c(n,t){return await e.run(async()=>{const o=await r.fn(n,t);return a.totalPages=o.pages,a.data=o.data,o.data})}async function i(n){const t=await c(0,n);return a.page=0,t}async function p(n,t){const s=await c(n,t);if(!(a.page>a.totalPages||a.page<0))return a.page=n,s}return N(r.injectKey||b,a),i(r.initialParams),(n,t)=>x(n.$slots,"default")}});export{w as _,A as a};

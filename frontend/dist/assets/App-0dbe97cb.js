import{_ as g}from"./StatefulForm.vue_vue_type_script_setup_true_lang-247379b3.js";import{T as t,R as k}from"./inputs-cac6fc85.js";import{d,l as m,f as u,o,c,w as h,n,v as _,a as f,m as b,A as v,C as w,b as N,F as T,I as x}from"./index-a9e6055c.js";import{c as P,d as C,e as E,f as S}from"./inputValidators-a742f5c9.js";import"./SelectInput.vue_vue_type_script_setup_true_lang-7a244b2a.js";import"./RadioInput.vue_vue_type_script_setup_true_lang-8f6d06c1.js";const $={class:"fw-light"},M=d({__name:"LoginForm",emits:["changemode"],setup(p){const r=[new t("Email","",e=>e.length==0?"Email harus diisi":"",{semanticType:"email"}),new t("Password","",e=>e.length==0?"Password harus diisi":"",{semanticType:"password"})],a=m({errMsg:""}),i=u();async function l(e){try{(await fetch(v+"/accounts/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.Email,password:e.Password})})).ok?i.replace({name:"index"}):a.errMsg="Email atau password salah!"}catch(s){console.error(s),a.errMsg=w}}return(e,s)=>(o(),c(g,{action:"/login",method:"post",inputs:r,onSubmit:l,purpose:"Login"},{after:h(()=>[n("p",$,[_("Belum ada akun? "),n("a",{href:"#",onClick:s[0]||(s[0]=y=>e.$emit("changemode"))},"Daftar")]),f(b,{message:a.errMsg},null,8,["message"])]),_:1}))}}),O={class:"fw-light"},j=d({__name:"RegisterForm",emits:["changemode"],setup(p){const r=[new t("Email","",P,{semanticType:"email"}),new t("Password","",C,{semanticType:"password"}),new t("Nama","",E),new k("Jenis Kelamin","",[{label:"Pria",value:"male"},{label:"Wanita",value:"female"}],"Pilih salah satu jenis kelamin"),new t("No. Telp","",S)],a=m({errMsg:""}),i=u();async function l(e){try{(await fetch(v+"/accounts/register",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.Email,password:e.Password,name:e.Nama,gender:e["Jenis Kelamin"]=="male",telp:e["No. Telp"]})})).ok?i.replace({name:"index"}):a.errMsg="Email sudah digunakan orang lain!"}catch(s){console.error(s),a.errMsg=w}}return(e,s)=>(o(),c(g,{action:"/login",method:"post",inputs:r,onSubmit:l,purpose:"Daftar"},{after:h(()=>[n("p",O,[_("Sudah ada akun? "),n("a",{href:"#",onClick:s[0]||(s[0]=y=>e.$emit("changemode"))},"Login")]),f(b,{message:a.errMsg},null,8,["message"])]),_:1}))}}),I=x('<div class="hide-overflow position-relative vh-100"><div id="tsvrspn-mark"><div id="tsvrspn-icon"><div class="shadow-thick"></div><div class="shadow-thick"></div></div><p class="shadow-thick"> The Savory Spoon </p></div><div class="decoball" id="decoball-a"><img src="https://goldbelly.imgix.net/uploads/showcase_media_asset/image/126887/dry-aged-boneless-ribeye-steak-dinner-for-4.81c3bdc05fe6bdb2c2214709863120e0.jpg?ixlib=react-9.0.2&amp;auto=format&amp;ar=1%3A1" alt="Food Image #1"></div><div class="decoball" id="decoball-b"><img src="https://goldbelly.imgix.net/uploads/showcase_media_asset/image/86731/memphis-pulled-pork-shoulder-4-lbs.089448f3aebd24fe82f223151314d853.jpg?ixlib=react-9.0.2&amp;auto=format&amp;ar=1%3A1" alt="Food Image #2"></div><div class="decoball" id="decoball-c"><img src="https://goldbelly.imgix.net/uploads/showcase_media_asset/image/75464/carolina-pulled-pork-sandwich-pack.8e672a876d720c8471b08ffa47fbbbc1.jpg?ixlib=react-9.0.2&amp;auto=format&amp;ar=1%3A1" alt="Food Image #3"></div></div>',1),V=d({__name:"App",emits:["loading","error","success"],setup(p,{emit:r}){const a=m({isLogin:!0});function i(){a.isLogin=!a.isLogin}return(l,e)=>(o(),N(T,null,[I,n("main",null,[a.isLogin?(o(),c(M,{key:0,onChangemode:i,class:"center-screen"})):(o(),c(j,{key:1,onChangemode:i,class:"center-screen"}))])],64))}});export{V as default};

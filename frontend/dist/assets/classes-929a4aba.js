var g=Object.defineProperty;var m=(o,t,e)=>t in o?g(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var i=(o,t,e)=>(m(o,typeof t!="symbol"?t+"":t,e),e);class n{constructor(t,e,a,r,s,p){i(this,"id");i(this,"name");i(this,"category");i(this,"description");i(this,"img");i(this,"price");this.id=t,this.name=e,this.category=a,this.description=r,this.img=s,this.price=p}get harga(){return n.toRupiah(this.price)}static toRupiah(t){return new Intl.NumberFormat("id",{style:"currency",currency:"IDR"}).format(t)}static fromJSON(t){return new n(t.id,t.name,t.category,t.description,t.img,t.price)}}class h extends n{constructor(e,a=1,r=""){super(e.id,e.name,e.category,e.description,e.img,e.price);i(this,"quantity");i(this,"note");this.quantity=a,this.note=r}get harga(){return n.toRupiah(this.price*this.quantity)}copy(){return new h(new n(this.id,this.name,this.category,this.description,this.img,this.price),this.quantity,this.note)}}class u{constructor(t,e,a,r,s){i(this,"id");i(this,"email");i(this,"name");i(this,"gender");i(this,"telp");this.id=t,this.email=e,this.name=a,this.gender=r,this.telp=s}static fromJSON(t){return new u(t.id,t.email,t.name,t.gender,t.telp)}}class c{constructor(t,e,a,r,s){i(this,"id");i(this,"username");i(this,"time");i(this,"orders");i(this,"phase");this.id=t,this.username=e,this.time=a,this.orders=r,this.phase=s}get timeString(){return this.time.toLocaleDateString(void 0,{day:"2-digit",year:"numeric",month:"short",hour:"2-digit",minute:"2-digit",hour12:!1})}get totalPrice(){return this.orders.reduce((t,e)=>t+e.price*e.quantity,0)}get hargaTotal(){return n.toRupiah(this.totalPrice)}static parseStatus(t){switch(t){case 0:return"finished";case 1:return"cooking";case-1:return"canceled";default:return"pending"}}toStatus(){switch(this.phase){case"pending":return 2;case"cooking":return 1;case"finished":return 0;case"canceled":return-1}}static fromJSON(t){return new c(t.id,t.user,new Date(t.time),t.records.map(e=>new h(new n(e.id,e.name,"","","",e.price),e.quantity,e.note)),c.parseStatus(t.status))}static fromJSONArray(t){return t.map(e=>c.fromJSON(e))}}class d{constructor(t,e){i(this,"orders");i(this,"date");i(this,"totalPrice",0);i(this,"count",0);const a={};this.date=e;for(let r of t)for(let s of r.orders)s.note="",a.hasOwnProperty(s.id)?a[s.id].quantity+=s.quantity:a[s.id]=s,this.totalPrice+=s.price*s.quantity,this.count+=s.quantity;this.orders=[];for(let r in a)this.orders.push(a[r]);this.orders.sort((r,s)=>s.quantity-r.quantity)}get averagePrice(){return this.totalPrice/this.count}get dateString(){return this.date.toLocaleDateString(void 0,{day:"2-digit",year:"numeric",month:"short"})}get hargaTotal(){return n.toRupiah(this.totalPrice)}get hargaRata2(){return n.toRupiah(this.averagePrice)}append(t){for(let e of t.orders){e.note="";const a=this.orders.find(r=>r.id==e.id);a?a.quantity+=e.quantity:this.orders.push(e),this.totalPrice+=e.price*e.quantity,this.count+=e.quantity}}static dayOfDate(t){return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}static summarize(t){const e={};for(let r of t){const s=this.dayOfDate(r.time);e.hasOwnProperty(s)||(e[s]=[]),e[s].push(r)}const a=[];for(let r in e)a.push(new d(e[r],new Date(r)));return a.sort()}}export{c as M,d as T,u as U,n as a,h as b};

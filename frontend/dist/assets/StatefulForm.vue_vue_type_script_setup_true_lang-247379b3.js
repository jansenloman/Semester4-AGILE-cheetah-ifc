import{d as b,G as g,o as l,b as s,n as p,x as h,t as r,F as f,v as F,y as k,l as S,K as V,N as w,c as d}from"./index-a9e6055c.js";import{_ as B,b as C,a as N}from"./SelectInput.vue_vue_type_script_setup_true_lang-7a244b2a.js";import{_ as I}from"./RadioInput.vue_vue_type_script_setup_true_lang-8f6d06c1.js";const E={className:"fw-medium input-file w-100 my-3"},R=["placeholder","accept"],T={key:0},D={key:1},G={key:0,class:"fw-medium text-danger"},K=b({__name:"FileInput",props:{input:null,shouldValidate:{type:Boolean}},emits:["update:value"],setup(n,{emit:v}){const u=n,e=g(u.input);function m(c){var i;const o=c.target;e.value.value=(i=o.files)==null?void 0:i[0],u.shouldValidate&&e.value.validate(),v("update:value",e.value.value)}return(c,o)=>(l(),s(f,null,[p("label",E,[p("input",{type:"file",placeholder:n.input.label,onChange:m,accept:n.input.options.accept},null,40,R),n.input.value?(l(),s("span",T,h(n.input.value.name),1)):(l(),s("span",D,h(n.input.label),1))]),n.input.error.length>0?(l(),s("p",G,h(n.input.error),1)):r("",!0)],64))}});const L={class:"mb-3"},M={class:"form-check"},j=["for"],q=["value","id","name","checked"],z={key:0,class:"text-danger"},A=b({__name:"CheckboxInput",props:{input:null,shouldValidate:{type:Boolean}},emits:["update:value"],setup(n,{emit:v}){const u=n,e=g(u.input);function m(c){const o=c.target,i=e.value.value.findIndex(_=>_==o.value);i==-1?e.value.value.push(o.value):e.value.value.splice(i,1),u.shouldValidate&&e.value.validate(),v("update:value",e.value.value)}return(c,o)=>(l(),s("div",L,[F(h(e.value.label)+" ",1),(l(!0),s(f,null,k(e.value.options,i=>(l(),s("div",M,[p("label",{class:"form-check-label",for:i.label+" "+e.value.id},h(i.label),9,j),p("input",{class:"form-check-input",type:"checkbox",value:i.value,id:i.label+" "+e.value.id,name:e.value.id,checked:e.value.value.includes(i.value),onChange:m},null,40,q)]))),256)),e.value.error?(l(),s("div",z,h(e.value.error),1)):r("",!0)]))}}),H={class:"col-xl-6 bg-white col-lg-8 col-10 shadow px-3 rounded-2 py-4"},J=["action","method","onSubmit"],O=["value"],W=b({__name:"StatefulForm",props:{action:null,method:null,inputs:null,validateFromStart:{type:Boolean},purpose:null},emits:["submit"],setup(n,{emit:v}){const u=n,e=S({isValidating:u.validateFromStart??!1});function m(){e.isValidating=!0;let t=!1;for(let a of u.inputs)a.validate(),t=t||a.error.length>0;if(t)return;const y={};u.inputs.forEach(a=>{y[a.label]=a.value}),v("submit",y)}function c(t){return t.type=="text"}function o(t){return t.type=="radio"}function i(t){return t.type=="checkbox"}function _(t){return t.type=="number"}function $(t){return t.type=="select"}function x(t){return t.type=="file"}return(t,y)=>(l(),s("div",H,[p("form",{action:n.action,method:n.method,class:"needs-validation",autocomplete:"off",novalidate:"",onSubmit:w(m,["prevent"])},[V(t.$slots,"header"),(l(!0),s(f,null,k(n.inputs,a=>(l(),s(f,null,[c(a)?(l(),d(B,{key:0,input:a,shouldValidate:e.isValidating},null,8,["input","shouldValidate"])):r("",!0),o(a)?(l(),d(I,{key:1,input:a,shouldValidate:e.isValidating},null,8,["input","shouldValidate"])):r("",!0),i(a)?(l(),d(A,{key:2,input:a,shouldValidate:e.isValidating},null,8,["input","shouldValidate"])):r("",!0),_(a)?(l(),d(C,{key:3,input:a,shouldValidate:e.isValidating},null,8,["input","shouldValidate"])):r("",!0),$(a)?(l(),d(N,{key:4,input:a,shouldValidate:e.isValidating},null,8,["input","shouldValidate"])):r("",!0),x(a)?(l(),d(K,{key:5,input:a,shouldValidate:e.isValidating},null,8,["input","shouldValidate"])):r("",!0)],64))),256)),V(t.$slots,"after"),p("input",{class:"btn btn-primary w-100 py-2 fs-5",type:"submit",value:n.purpose},null,8,O),V(t.$slots,"footer")],40,J)]))}});export{W as _};

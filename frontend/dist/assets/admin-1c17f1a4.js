import{d as r,c as l,w as g,_ as f,o as i,a as o,u as E,R as h,b as R,F as k,e as w,f as A,i as y,P,r as V,A as c,S as v,g as T,h as L,j as t,k as O}from"./index-a9e6055c.js";const S=r({__name:"App",setup(e){return(a,n)=>(i(),l(f,null,{default:g(()=>[o(E(h))]),_:1}))}}),b=r({__name:"Home",setup(e){const a=A(),n=y(P);async function m(){n.run(async()=>{if((await fetch(c+"/accounts/logout",{method:"POST",credentials:"include"})).ok)a.replace({name:"login"});else throw Error(v)})}const u=[{name:"Pesanan Sekarang",dest:"ongoing"},{name:"Rangkuman Transaksi",dest:"transactions"},{name:"Modifikasi Menu",dest:"menu"},{name:"Logout",action:m}];return(p,I)=>{const d=V("RouterView");return i(),R(k,null,[o(w,{links:u,brandDest:"ongoing"}),o(d)],64)}}});async function s(){try{const e=await fetch(c+"/accounts/me",{credentials:"include"});return e.ok&&(await e.json()).isAdmin}catch(e){return console.error(e),!1}}const D=T({history:L("/"),routes:[{path:"/admin/login",name:"login",component:()=>t(()=>import("./App-3e1d35a2.js"),["assets/App-3e1d35a2.js","assets/StatefulForm.vue_vue_type_script_setup_true_lang-247379b3.js","assets/index-a9e6055c.js","assets/index-17f4caf7.css","assets/SelectInput.vue_vue_type_script_setup_true_lang-7a244b2a.js","assets/RadioInput.vue_vue_type_script_setup_true_lang-8f6d06c1.js","assets/StatefulForm-9053e3d3.css","assets/inputs-cac6fc85.js","assets/App-7d294f9f.css"]),async beforeEnter(e,a,n){await s()?n({name:"index"}):n()}},{path:"/admin",name:"index",redirect:"/admin/ongoing",component:b,async beforeEnter(e,a,n){await s()?n():n({name:"login"})},children:[{path:"/admin/ongoing",name:"ongoing",component:()=>t(()=>import("./App-e39f4dc9.js"),["assets/App-e39f4dc9.js","assets/classes-929a4aba.js","assets/requests-8927b21a.js","assets/index-a9e6055c.js","assets/index-17f4caf7.css","assets/IconButton.vue_vue_type_style_index_0_lang-60770588.js","assets/IconButton-e46a7ea5.css","assets/Accordion.vue_vue_type_style_index_0_lang-c901b059.js","assets/Accordion-4326cff9.css","assets/OrderListItem.vue_vue_type_script_setup_true_lang-8ae4ca92.js","assets/App-713993d0.css"])},{path:"/admin/transactions",name:"transactions",component:()=>t(()=>import("./App-e4457f7c.js"),["assets/App-e4457f7c.js","assets/index-a9e6055c.js","assets/index-17f4caf7.css","assets/Pagination.vue_vue_type_script_setup_true_lang-b254a2b2.js","assets/OrderListItem.vue_vue_type_script_setup_true_lang-8ae4ca92.js","assets/classes-929a4aba.js","assets/App-ce67f730.css"])},{path:"/admin/menu",name:"menu",component:()=>t(()=>import("./App-98fb5227.js"),["assets/App-98fb5227.js","assets/SearchBar.vue_vue_type_style_index_0_lang-265b0b09.js","assets/classes-929a4aba.js","assets/Pagination.vue_vue_type_script_setup_true_lang-b254a2b2.js","assets/index-a9e6055c.js","assets/index-17f4caf7.css","assets/FetchWrapper.vue_vue_type_script_setup_true_lang-39891d1c.js","assets/requests-8927b21a.js","assets/SearchBar-926fe7dd.css","assets/SelectInput.vue_vue_type_script_setup_true_lang-7a244b2a.js","assets/inputValidators-a742f5c9.js","assets/inputs-cac6fc85.js","assets/MaybeImage.vue_vue_type_script_setup_true_lang-2985bd86.js","assets/App-8b998808.css"])}]}]}),_=O(S);_.use(D);_.mount("#app");
